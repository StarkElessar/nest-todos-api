# Инструкции для работы с базой через ORM Prisma

Если проект чистый с нуля склонирован, тогда нужно сделать ряд действий:

1. Создать контейнер
```bash
	docker compose up
```

2. Выполнить генерацию клиента и типов на основе описанной модели в Prisma
```bash
	pnpm dlx prisma generate
```

3. Накатить стартовую миграцию, так как база пустая
```bash
	pnpm dlx prisma migrate dev --name init
```

4. Можно запустить студию от Prisma, чтобы проверить, что всё ок создалось и подключилось
```bash
	pnpm dlx prisma studio
```

Если инициализация была, и это повторная работа с проекта, значит база уже была создана,
контейнер запущен, миграции примененные и генерация клиента и типов была осуществлена,
а значит достаточно запустить контейнер и по желанию студию для проверки подключения.

Так же для синхронизации схемы и клиента и типов с существующей базой, например
после запуска контейнера, можно запустить команду `pnpm dlx prisma db pull`

Пример, как выглядит строка для подключения к БД Postgres:
```env
DATABASE_URL="postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@localhost:${PORT}/${POSTGRES_DB}?schema=public"
```
